import{_ as p,o as m,r,a as u,c as x,e as v,w as f,f as w,p as I,b as h,d as _}from"./index-80173bf2.js";const b=t=>(I("data-v-ecbda175"),t=t(),h(),t),y={class:"canvasBox"},C=b(()=>_("div",{class:"canvasWrap"},[_("canvas",{id:"canvas"})],-1)),g={__name:"CompressImg",setup(t){let c=null;m(()=>{c=document.getElementById("canvas");const a=(e,s)=>{const o=Math.max(window.devicePixelRatio,2);c.width=e*o,c.height=s*o,c.style.width=e+"px",c.style.height=s+"px";const n=c.getContext("2d");return n.scale(o,o),n};(({targetWidth:e,targetHeight:s})=>{const o=new Image;o.onload=()=>{const n=o.width/o.height;e!==void 0?o.width>e&&(s=e/n):s!==void 0&&o.height>s&&(e=s*n),a(e,s).drawImage(o,0,0,e,s)},o.src="/big.jpg"})({targetWidth:2e3})});const i=()=>{const a=c.toDataURL("image/jpeg");l(a,"图片.jpeg")},l=(a,d)=>{const e=document.createElement("a");e.href=a,e.download=d,e.click()};return(a,d)=>{const e=r("el-button");return u(),x("div",y,[C,v(e,{type:"primary",onClick:i},{default:f(()=>[w("下载图片")]),_:1})])}}},k=p(g,[["__scopeId","data-v-ecbda175"]]);export{k as default};
